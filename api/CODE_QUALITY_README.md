# –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∞–Ω–∞–ª—ñ–∑—É —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É Connex API

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ PHP –∫–æ–¥—É –≤ –ø—Ä–æ–µ–∫—Ç—ñ Connex API.

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

### 1. PHPStan - –°—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —Ç–∏–ø—ñ–≤
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–º–∏–ª–∫–∏ —Ç–∏–ø—ñ–≤, –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –∫–æ–¥, –Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
- **–†—ñ–≤–µ–Ω—å**: 5 (—Å–µ—Ä–µ–¥–Ω—ñ–π)
- **–ó–∞–ø—É—Å–∫**: `composer phpstan`

### 2. PHP CodeSniffer - –ê–Ω–∞–ª—ñ–∑ —Å—Ç–∏–ª—é –∫–æ–¥—É
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—è—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º PSR-12
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç**: PSR-12 –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
- **–ó–∞–ø—É—Å–∫**: `composer phpcs`
- **–ê–≤—Ç–æ–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è**: `composer phpcbf`

### 3. PHPMD - PHP Mess Detector
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ó–Ω–∞—Ö–æ–¥–∏—Ç—å "–∑–∞–ø–∞—Ö–∏" –∫–æ–¥—É, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, –º–µ—Ä—Ç–≤–∏–π –∫–æ–¥
- **–ü—Ä–∞–≤–∏–ª–∞**: cleancode, codesize, controversial, design, naming, unusedcode
- **–ó–∞–ø—É—Å–∫**: `composer phpmd`

### 4. PHPCPD - PHP Copy/Paste Detector
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –®—É–∫–∞—î –¥—É–±–ª—ñ–∫–∞—Ç–∏ –∫–æ–¥—É
- **–ó–∞–ø—É—Å–∫**: `composer phpcpd`

### 5. PDepend - –ê–Ω–∞–ª—ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ê–Ω–∞–ª—ñ–∑—É—î –º–µ—Ç—Ä–∏–∫–∏ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- **–ó–∞–ø—É—Å–∫**: `composer pdepend`

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –ø–æ–≤–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É
```bash
composer analyze
```

### –ó–∞–ø—É—Å–∫ –æ–∫—Ä–µ–º–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
```bash
# –°—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
composer phpstan

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∏–ª—é
composer phpcs

# –ê–≤—Ç–æ–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å—Ç–∏–ª—é
composer phpcbf

# –ü–æ—à—É–∫ "–∑–∞–ø–∞—Ö—ñ–≤" –∫–æ–¥—É
composer phpmd

# –ü–æ—à—É–∫ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤
composer phpcpd

# –ê–Ω–∞–ª—ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
composer pdepend
```

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å—Ç–∏–ª—é –∫–æ–¥—É
```bash
./fix-code-style.sh
```

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç—å:
- –í—ñ–¥—Å—Ç—É–ø–∏ (—Ç–∞–±–∏ ‚Üí –ø—Ä–æ–±—ñ–ª–∏)
- –ü—Ä–æ–±—ñ–ª–∏ –≤ –∫—ñ–Ω—Ü—ñ —Ä—è–¥–∫—ñ–≤
- –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –±–ª–æ–∫—ñ–≤ –∫–æ–¥—É
- –ù–æ–≤—ñ —Ä—è–¥–∫–∏ –≤ –∫—ñ–Ω—Ü—ñ —Ñ–∞–π–ª—ñ–≤

## üìä –ü–æ—Ç–æ—á–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç—É

- **–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤**: 8,487
- **–í—ñ–¥—Å–æ—Ç–æ–∫ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤**: 1.68%
- **–ö—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏ PHPStan**: 24
- **–ü–æ–º–∏–ª–∫–∏ —Å—Ç–∏–ª—é**: 1,000+
- **–ü—Ä–æ–±–ª–µ–º–∏ —è–∫–æ—Å—Ç—ñ**: 200+

## üéØ –¶—ñ–ª—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –ö–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (1-2 —Ç–∏–∂–Ω—ñ)
- [ ] –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –≤—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏ PHPStan
- [ ] –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑—É–≤–∞—Ç–∏ –≤—ñ–¥—Å—Ç—É–ø–∏ —É –≤—Å—ñ—Ö —Ñ–∞–π–ª–∞—Ö
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –º–µ—Ä—Ç–≤–∏–π –∫–æ–¥

### –°–µ—Ä–µ–¥–Ω—å–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (1-2 –º—ñ—Å—è—Ü—ñ)
- [ ] –ó–º–µ–Ω—à–∏—Ç–∏ —Ü–∏–∫–ª–æ–º–∞—Ç–∏—á–Ω—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –º–µ—Ç–æ–¥—ñ–≤
- [ ] –†–æ–∑–±–∏—Ç–∏ –¥–æ–≤–≥—ñ –º–µ—Ç–æ–¥–∏
- [ ] –£—Å—É–Ω—É—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏ –∫–æ–¥—É

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (3-6 –º—ñ—Å—è—Ü—ñ–≤)
- [ ] –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ dependency injection
- [ ] –î–æ–¥–∞—Ç–∏ unit —Ç–µ—Å—Ç–∏
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ CI/CD pipeline

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

```
api/
‚îú‚îÄ‚îÄ phpstan.neon          # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è PHPStan
‚îú‚îÄ‚îÄ phpcs.xml            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è PHP CodeSniffer
‚îú‚îÄ‚îÄ phpmd.xml            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è PHPMD
‚îú‚îÄ‚îÄ fix-code-style.sh    # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
‚îî‚îÄ‚îÄ composer.json        # Composer scripts
```

## üö® –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —ó—Ö —Ä—ñ—à–µ–Ω–Ω—è

### 1. "Call to an undefined method"
**–ü—Ä–æ–±–ª–µ–º–∞**: –í–∏–∫–ª–∏–∫ –Ω–µ—ñ—Å–Ω—É—é—á–æ–≥–æ –º–µ—Ç–æ–¥—É
**–†—ñ—à–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–∑–≤—É –º–µ—Ç–æ–¥—É –∞–±–æ –¥–æ–¥–∞—Ç–∏ –º–µ—Ç–æ–¥

### 2. "Unused private method"
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏–≤–∞—Ç–Ω–∏–π –º–µ—Ç–æ–¥ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è
**–†—ñ—à–µ–Ω–Ω—è**: –í–∏–¥–∞–ª–∏—Ç–∏ –∞–±–æ –∑—Ä–æ–±–∏—Ç–∏ public

### 3. "Excessive method length"
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–µ—Ç–æ–¥ –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–∏–π
**–†—ñ—à–µ–Ω–Ω—è**: –†–æ–∑–±–∏—Ç–∏ –Ω–∞ –º–µ–Ω—à—ñ –º–µ—Ç–æ–¥–∏

### 4. "Cyclomatic complexity too high"
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–µ—Ç–æ–¥ –∑–∞–Ω–∞–¥—Ç–æ —Å–∫–ª–∞–¥–Ω–∏–π
**–†—ñ—à–µ–Ω–Ω—è**: –°–ø—Ä–æ—Å—Ç–∏—Ç–∏ –ª–æ–≥—ñ–∫—É, —Ä–æ–∑–±–∏—Ç–∏ –Ω–∞ –º–µ–Ω—à—ñ –º–µ—Ç–æ–¥–∏

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [PHPStan –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](https://phpstan.org/)
- [PHP CodeSniffer –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](https://github.com/squizlabs/PHP_CodeSniffer)
- [PHPMD –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](https://phpmd.org/)
- [PSR-12 —Å—Ç–∞–Ω–¥–∞—Ä—Ç](https://www.php-fig.org/psr/psr-12/)

## ü§ù –í–Ω–µ—Å–æ–∫

–ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–Ω—ñ –∑–º—ñ–Ω –¥–æ –∫–æ–¥—É:
1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `composer analyze` –ø–µ—Ä–µ–¥ –∫–æ–º—ñ—Ç–æ–º
2. –í–∏–ø—Ä–∞–≤—Ç–µ –≤—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏
3. –î–æ—Ç—Ä–∏–º—É–π—Ç–µ—Å—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ñ–≤ PSR-12
4. –î–æ–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–∏ –¥–ª—è –Ω–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

---

*–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è: 14 —Å–µ—Ä–ø–Ω—è 2024*
